(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{221:function(s,a,t){s.exports=t.p+"assets/img/2743275-ab527d48b90f29e8.7b2fbfe3.png"},401:function(s,a,t){"use strict";t.r(a);var e=t(0),r=Object(e.a)({},function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"elk之本地grok-debugger配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#elk之本地grok-debugger配置","aria-hidden":"true"}},[s._v("#")]),s._v(" ELK之本地Grok-Debugger配置")]),s._v(" "),e("h2",{attrs:{id:"_1、ruby环境安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、ruby环境安装","aria-hidden":"true"}},[s._v("#")]),s._v(" 1、Ruby环境安装")]),s._v(" "),e("h6",{attrs:{id:"_1-1、清理已安装过的"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1、清理已安装过的","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.1、清理已安装过的")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum erase ruby ruby-libs ruby-mode ruby-rdoc ruby-irb ruby-ri ruby-docs")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum remove ruby")]),s._v("\n")])])]),e("h6",{attrs:{id:"_1-2、ruby的安装-别使用ruby最新的2-2或者2-3的版本，可能出现部分组件无法安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2、ruby的安装-别使用ruby最新的2-2或者2-3的版本，可能出现部分组件无法安装","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.2、Ruby的安装("),e("code",[s._v("别使用ruby最新的2.2或者2.3的版本，可能出现部分组件无法安装")]),s._v(")")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum install -y wget unzip")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /usr/local")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum -y install  openssl-devel gcc")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget https://ruby.taobao.org/mirrors/ruby/2.1/ruby-2.1.7.tar.gz")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tar zxf ruby-2.1.7.tar.gz")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd ruby-2.1.7")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./configure --prefix=/usr/local/ruby2.1.7")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# make && make install")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# echo 'export PATH=/usr/local/ruby2.1.7/bin:$PATH'>>/etc/profile")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# source /etc/profile")]),s._v("\n")])])]),e("h6",{attrs:{id:"_1-3、rubygems工具安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3、rubygems工具安装","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.3、RubyGems工具安装")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /usr/local")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget http://rubygems.global.ssl.fastly.net/rubygems/rubygems-2.6.2.tgz")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tar zxf rubygems-2.6.2.tgz")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd rubygems-2.6.2")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ruby setup.rb")]),s._v("\n")])])]),e("h6",{attrs:{id:"_1-4、替换gem源-由于网络环境的问题，访问官方源非常慢，使用淘宝的gem源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4、替换gem源-由于网络环境的问题，访问官方源非常慢，使用淘宝的gem源","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.4、替换gem源,由于网络环境的问题，访问官方源非常慢，使用淘宝的gem源")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# gem sources --add https://ruby.taobao.org/ --remove https://rubygems.org/")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# gem sources –l")]),s._v("\n")])])]),e("h2",{attrs:{id:"_2、grokdebug的安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、grokdebug的安装","aria-hidden":"true"}},[s._v("#")]),s._v(" 2、GrokDebug的安装")]),s._v(" "),e("h6",{attrs:{id:"_2-1、下载源码包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1、下载源码包","aria-hidden":"true"}},[s._v("#")]),s._v(" 2.1、下载源码包")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkdir /usr/local/grokbug")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /usr/local/grokbug")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget https://codeload.github.com/nickethier/grokdebug/zip/master")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# unzip master")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mv grokdebug-master/* .")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rm -rf grokdebug-master/")]),s._v("\n")])])]),e("h6",{attrs:{id:"_2-2、ruby组件安装-以下组件都对版本有相应的要求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2、ruby组件安装-以下组件都对版本有相应的要求","aria-hidden":"true"}},[s._v("#")]),s._v(" 2.2、Ruby组件安装(以下组件都对版本有相应的要求)")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("--- 查看缺少的组件\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ruby config.ru")]),s._v("\n--- 就会提示组件及对应的版本\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# gem install bundler")]),s._v("\ngem "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" cabin -v"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("0.5.0\ngem "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" haml -v"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("3.1.7\ngem "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" jls-grok -v"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("0.10.10\ngem "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" json -v"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1.7.5\ngem "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" kgio -v"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("2.8.0\ngem "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" rack -v"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1.4.1\ngem "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" rack-protection -v"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1.2.0\ngem "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" raindrops -v"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("0.11.0\ngem "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" shotgun -v"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("0.9\ngem "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" tilt -v"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1.3.3\ngem "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" sinatra -v"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1.3.3\ngem "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" unicorn -v"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("4.6.3\n")])])]),e("h6",{attrs:{id:"_2-3、启动服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3、启动服务","aria-hidden":"true"}},[s._v("#")]),s._v(" 2.3、启动服务")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /usr/local/grokbug")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nohup bundle exec unicorn -p 8080 -c ./unicorn &")]),s._v("\n")])])]),e("h6",{attrs:{id:"_2-4、关闭防火墙"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-4、关闭防火墙","aria-hidden":"true"}},[s._v("#")]),s._v(" 2.4、关闭防火墙")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# service iptables stop")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chkconfig iptables off")]),s._v("\n")])])]),e("h6",{attrs:{id:"_2-5、替换google的jquery源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-5、替换google的jquery源","aria-hidden":"true"}},[s._v("#")]),s._v(" 2.5、替换Google的jquery源")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /usr/local/grokbug")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd views")]),s._v("\n")])])]),e("p",[s._v("执行下面5条语句")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -i 's#//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js#//lib.sinaapp.com/js/jquery/1.8.1/jquery.min.js#g' index.haml")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -i 's#//ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js#//lib.sinaapp.com/js/jquery-ui/1.9.2/jquery-ui.min.js#g' index.haml")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -i 's#//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js#//lib.sinaapp.com/js/jquery/1.7.2/jquery.min.js#g' patterns.haml")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -i 's#//ajax.googleapis.com/ajax/libs/jqueryui/1.9.0/themes/ui-lightness/jquery-ui.css#//lib.sinaapp.com/js/jquery-ui/1.9.0/themes/ui-lightness/jquery-ui.css#g' layout.haml")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sed -i 's#//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js#//lib.sinaapp.com/js/jquery/1.7.2/jquery.min.js#g' discover.haml")]),s._v("\n")])])]),e("p",[s._v("测试，通过web路径访问测试了\nhttp://xxx:8080")]),s._v(" "),e("p",[e("img",{attrs:{src:t(221),alt:""}})])])},[],!1,null,null,null);a.default=r.exports}}]);
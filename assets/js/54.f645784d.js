(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{468:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"es插件bigdesk安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#es插件bigdesk安装","aria-hidden":"true"}},[t._v("#")]),t._v(" ES插件BigDesk安装")]),t._v(" "),a("blockquote",[a("p",[t._v("bigdesk Github地址："),a("a",{attrs:{href:"https://github.com/lukas-vlcek/bigdesk",title:"https://github.com/lukas-vlcek/bigdesk",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/lukas-vlcek/bigdesk"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("bigdesk支持的最新版本的ES是1.3.0 ... 1.3.x")]),t._v(" "),a("p",[t._v("然而想要在新版本ES上安装（"),a("code",[t._v("2.x.x")]),t._v("），项目中遇到过一些BUG，在ES在最新版本中有修复，所以采用了"),a("code",[t._v("2.3.0")]),t._v("的版本")]),t._v(" "),a("p",[a("code",[t._v("head")]),t._v("插件查看数据和集群其他一些挺方便，但是对集群状况监控不够细致，而且使用中有一些BUG问题，一般会和"),a("code",[t._v("bigdesk")]),t._v("、"),a("code",[t._v("kopf")]),t._v("结合使用。")]),t._v(" "),a("p",[t._v("下载安装的时候出现问题：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("Installing lukas-vlcek/bigdesk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nTrying https://github.com/lukas-vlcek/bigdesk/archive/master.zip "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nDownloading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".DONE\nVerifying https://github.com/lukas-vlcek/bigdesk/archive/master.zip checksums "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" available "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nNOTE: Unable to verify checksum "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" downloaded plugin "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("unable to "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" .sha1 or .md5 "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" to verify"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nERROR: Could not "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" plugin descriptor ‘plugin-descriptor.properties‘ "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" plugin "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("zip")]),t._v("\n")])])]),a("p",[t._v("解决办法：")]),t._v(" "),a("h5",{attrs:{id:"_1-下载bigdesk的master的zip包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载bigdesk的master的zip包","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. 下载bigdesk的master的zip包")]),t._v(" "),a("h5",{attrs:{id:"_2-解压到安装路径下-elasticsearch-2-3-0-plugins-目录下，会有一个bigdesk或者bigdesk-master（可以改成bigdesk）目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-解压到安装路径下-elasticsearch-2-3-0-plugins-目录下，会有一个bigdesk或者bigdesk-master（可以改成bigdesk）目录","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. 解压到安装路径下 elasticsearch-2.3.0/plugins/目录下，会有一个bigdesk或者bigdesk-master（可以改成bigdesk）目录")]),t._v(" "),a("h5",{attrs:{id:"_3-提示没有找到plugin-descriptor-properties文件，那就创建这个文件，并写入以下内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-提示没有找到plugin-descriptor-properties文件，那就创建这个文件，并写入以下内容","aria-hidden":"true"}},[t._v("#")]),t._v(" 3. 提示没有找到"),a("code",[t._v("plugin-descriptor.properties")]),t._v("文件，那就创建这个文件，并写入以下内容")]),t._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("bigdesk")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("bigdesk")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("bigdesk")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("site")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n")])])]),a("p",[t._v("保存OK，大功告成。")]),t._v(" "),a("h4",{attrs:{id:"此时目录树为-plugins-bigdesk-site"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#此时目录树为-plugins-bigdesk-site","aria-hidden":"true"}},[t._v("#")]),t._v(" 此时目录树为 "),a("code",[t._v("plugins/bigdesk/_site/*")])]),t._v(" "),a("h4",{attrs:{id:"plugin-descriptor-properties文件放置在plugins-bigdesk-下-解压的文件放在-site-目录下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugin-descriptor-properties文件放置在plugins-bigdesk-下-解压的文件放在-site-目录下","aria-hidden":"true"}},[t._v("#")]),t._v(" "),a("code",[t._v("plugin-descriptor.properties")]),t._v("文件放置在"),a("code",[t._v("plugins/bigdesk/")]),t._v("下    解压的文件放在"),a("code",[t._v("/_site/")]),t._v("目录下")]),t._v(" "),a("p",[t._v("然后在本地浏览器中输入 http://localhost:9200/_plugin/bigdesk/")]),t._v(" "),a("p",[t._v("注：_plugin后面的bigdesk就是plugins下目录名字，若是bigdesk-master，则需要写这个名字")]),t._v(" "),a("p",[t._v("本以为会正常运行，然而出现了一个js弹框，有这样的内容")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("Bigdesk may not work correctly"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\nFound "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ES")]),t._v(" node version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.3")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),t._v("\nRequire "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ES")]),t._v(" node version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("RC1")]),t._v("\n")])])]),a("p",[t._v("解决办法：")]),t._v(" "),a("p",[t._v("定位到"),a("code",[t._v("plugins/bigdesk/_site/js/store")]),t._v("目录，打开"),a("code",[t._v("BigdeskStore.js")]),t._v("，定位到"),a("code",[t._v("142")]),t._v("行")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("major "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" minor "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" maintenance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("build "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" ‘Beta1‘ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" build "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" ‘Beta2‘"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("看到这么一行，把 "),a("code",[t._v("major ==1")]),t._v(" 改成 "),a("code",[t._v("major >=1")]),t._v("，然后保存。")]),t._v(" "),a("p",[t._v("浏览器重新打开 http://localhost:9200/_plugin/bigdesk/")]),t._v(" "),a("p",[t._v("OK.可以看到正常运行了。")]),t._v(" "),a("p",[t._v("分享一下楼主打包的文件  。插件包含了head插件和bigdesk插件\nhead插件是单独运行的\n"),a("a",{attrs:{href:"http://download.csdn.net/download/qq_30930805/10233395",title:"http://download.csdn.net/download/qq_30930805/10233395",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://download.csdn.net/download/qq_30930805/10233395"),a("OutboundLink")],1),t._v("\n其中head插件基于nodejs运行，具体参考\n"),a("a",{attrs:{href:"http://blog.csdn.net/qq_30930805/article/details/74990324",title:"http://blog.csdn.net/qq_30930805/article/details/74990324",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://blog.csdn.net/qq_30930805/article/details/74990324"),a("OutboundLink")],1)])])},[],!1,null,null,null);s.default=e.exports}}]);